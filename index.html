<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Library Mobile Website Performance Study</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body>

    <div class="wrapper">
      <header>
        <h1>Library Mobile Website Performance Study</h1>
        <p>Results from a mass analysis of library mobile sites.</p>

        <p class="view">
          <a href="https://github.com/phette23/library-mobile-performance-study">View on GitHub</a>
        </p>


        <ul>
          <li><a href="https://github.com/phette23/library-mobile-performance-study/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/phette23/library-mobile-performance-study/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/phette23/library-mobile-performance-study">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>

      <section>
<h3>
<a name="introduction" class="anchor" href="#introduction"></a>Introduction
</h3>

<p>While many libraries now offer versions of their sites optimized for mobile devices and smaller screens, I wanted to investigate if these sites generally meet user expectations in terms of performance or page load time. While libraries may not have the resources of large web companies like Google and Facebook, those sites still determine user expectations for libraries. Commonly visited sites establish a norm and library sites which load slowly are likely to be perceived as broken or poorly designed.</p>

<p>Web performance is particularly important when considering mobile devices, which have smaller cache sizes, less computing power, and sometimes utilize slower connections such as 3G. <sup><a href="#fn1" id="note2">[1]</a></sup> Furthermore, a study from Compuware actually indicates that users expect sites to load <em>quicker</em> on their smartphones than on a desktop or laptop computer. <sup><a href="#fn2" id="note2">[2]</a></sup> This same study noted that the most common complaint "encountered accessing websites or applications on your mobile phone" was slow load speeds.</p>

<!-- TODO: references -->

<h3>
<a name="methodology" class="anchor" href="#methodology"></a>Methodology
</h3>

<p>To obtain a large sample of library mobile websites, I scraped URLs from <a href="http://www.libsuccess.org/index.php?title=M-Libraries">the M-Libraries page</a> of the Library Success wiki. The script which harvests URLs <a href="https://github.com/phette23/library-mobile-performance-study/blob/master/parse-m-libraries.js">is included in the git repository</a>. It takes the hrefs of all anchors elements in the <q>Mobile interfaces (and/or <abbr title="Online Public Access Catalog">OPACS</abbr>)</q> section, which includes several links to screenshots and other miscellany that I manually removed.</p>

<p>To compare library sites against a common metric that most people would be familiar with, I chose to look up the top ten most-visited websites in the United States <a href="http://www.alexa.com/topsites/countries/US">using Alexa</a>. There are certainly only services which claim to know the top websites, and taking a global view would have resulting in a different set, too.</p>

<p>Alexa doesn't list the top sites specifically for mobile devices, so to determine which of the top ten sites have separate mobile sites I spoofed an iPhone using <code>curl</code> by running the following:</p>

<pre><code>curl -LIA "Mozilla/5.0 (iPhone; CPU iPhone OS 6_0_1 like Mac OS X) AppleWebKit/536.26 (KHTML, like Gecko) Version/6.0 Mobile/10A523 Safari/8536.25" $URL
</code></pre>

<p>where <code>$URL</code> is the desktop URL listed in Alexa. For the top ten sites, half used the same URL while half redirected to a mobile-specific location, e.g. m.facebook.com.</p>

<p>Already, this introduces slight inaccuracies in a performance analysis because how a user ends up on a mobile page already affects their experience. While the way my tests are run assume users start on their destination URL, that's not necessarily true. At their worst, some of the Alexa sites perform multiple redirects before landing on the mobile URL. Library sites, too, might require redirect before users get the experience optimized for their device. On the whole, while redirects should only account for a couple HTTP requests at most (and ideally only the first time a user accesses your site on a device), they're still to be avoided and can cause a noticeable page load delay. [ref: Souders first book]</p>

<p>Once I had a list of both mobile library websites and mobile versions of the Alexa top 10, I ran heuristic performance tests using Yahoo!'s YSlow. To run the tests programmatically on hundreds of URLs, I used <a href="http://phantomjs.org/">PhantomJS</a> which runs a headless WebKit browser. To work around any user-agent sniffing sites were doing (e.g. redirecting desktop browsers to a desktop site), I set PhantomJS's user agent string to an iPhone 6. Since tests are heuristic and essentially check to see if a site meets a particular guideline, it doesn't matter that they're run in WebKit as opposed to another rendering engine whose real performance may differ.</p>

<p>The specific YSlow tests recorded were:</p>
<ul>
  <li>Overall grade</li>
  <li>Number of requests</li>
  <li>Number of requests grade</li>
  <li>Compression grade</li>
  <li>JavaScript at the bottom grade <sup><a href="#fn5" id="note5">[5]</a></sup></li>
  <li></li>
</ul>

<!-- TODO: fill in statistical analysis -->

<h3>
<a name="limitations" class="anchor" href="#limitations"></a>Limitations
</h3>

<ul>
  <li>The list of library mobile sites is not comprehensive & probably very self-selecting, as only libraries aware of the Library Success wiki would bother listing their site there.
  <li>Furthermore, there's no guarantee that sites listed are current; URLs may have changed or the institution's may have changed strategies, using a single responsive design for instance.
  <li>Since only the URLs listed in the wiki were tested, this doesn't perform a comprehensive test of any institution's mobile presence. While some places listed a couple URLs, often a home page and a catalog, my method doesn't crawl an entire site while testing each page.
  <li>YSlow
    <ul>
    <li>does not measure what really matters in performance, e.g. the user's experience of how quickly a site loads (which â‰  page load time) & reacts to interaction.
    <li>does measure a number of important aspects which generally correlate with improved performance.
    <li>The subset of YSlow's many metrics is fairly arbitrary, they tend to be things that I personally think are important & easy to understand/improve.
    <li>The "JS Bottom Grade" proved to be flawed as it returned 100% for every single URL tested. I can manually observe that no every site puts their JavaScript at the bottom, so this must be a YSlow bug.
    </ul>
  <li>Responsive design problematizes this study's whole premise. Responsive sites aren't likely to be listed on the Library Success wiki. If a similar sample of self-identified responsive sites of libraries could be obtained, it would be interesting to compare their performance against both library mobile sites and popular sites like the Alexa top 10.
</ul>

<h3>
<a name="results" class="anchor" href="#results"></a>Results
</h3>

<p>Results, complete with graphs.</p>

<h3>
<a name="references" class="anchor" href="#references"></a>References
</h3>

<ol>
  <li>
    <a href="#note1" id="fn1">^</a> Podjarny, Guy. (2011, July 12). "Understanding Mobile Cache Size." <a href="http://www.guypo.com/mobile/understanding-mobile-cache-sizes/">http://www.guypo.com/mobile/understanding-mobile-cache-sizes/</a>; Souders, Steve. (2010, July 12). "Mobile cache file sizes." <a href="http://www.stevesouders.com/blog/2010/07/12/mobile-cache-file-sizes/">http://www.stevesouders.com/blog/2010/07/12/mobile-cache-file-sizes/</a>;
  <li>
    <a href="note2" id="fn2">^</a> Equat!on Research, Compuware. (2011, July). "What Mobile Users Want."
  <li>
    <a href="#note5" id="fn5">^</a> This was later discarded because all tests returned 100%, even sites which clearly did not place all their JavaScript at the bottom when manually inspected.
</ol>

<p>If I referenced anything, it'll go here.</p>

      </section>

      <footer>
        <p>by <a href="https://github.com/phette23">phette23</a></p>
        <p>
          <small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small>
        </p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>

  </body>
</html>
